<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<title>BH - Developed by Team Tech</title>

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet">

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="css/bootstrap.min.css" type="text/css">

<!-- Template Styles -->
<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="css/Simple-Line-Icons-Webfont/simple-line-icons.css"/>
<link rel="stylesheet" href="css/et-line-font/et-line-font.css">

<!-- Mega Menu -->
<link rel="stylesheet" href="js/megamenu/stylesheets/screen.css">

<!-- Responsive Devices Styles -->
<link rel="stylesheet" media="screen" href="css/responsive-leyouts.css" type="text/css" />

<!-- forms -->
<link rel="stylesheet" href="js/form/css/demo.css" type="text/css" media="all">
<link rel="stylesheet" href="js/form/css/sky-forms.css" type="text/css" media="all">
<style>
	.section-lg{
		padding:0px;
	}
	.paddingZero{
		padding:0px;
	}
	.heading3{
		display: block;
    padding: 20px 30px;
    border-bottom: 1px solid rgba(0,0,0,.1);
    font-size: 25px;
    font-weight: 300;
    color: #232323;
	}
    .page-header.two {
  background: url(images/compare-hostel.png) no-repeat scroll center top;
    background-size: auto;
  background-size: cover;
}
input,
select,
textarea,
button {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
  letter-spacing: inherit;
}
#chat-box {
  position: absolute;
  bottom: 20px;
}

#chat-user {
  height: 26px;
  background-color: transparent;
  border: 2px solid #0a0a0a;
  border-radius: 20px;
  color: #cdcdcd;
  padding-left: 10px;
  padding-right: 10px;
  -webkit-transition: border .5s ease, color .5s ease;
  transition: border .5s ease, color .5s ease;
}

#chat-user:focus,
#chat-user{
  border: 2px solid #69D2E7;
  color: #000;
  outline: 0;
}

#chat-submit {
  cursor: pointer;
  text-align: center;
  background-color: transparent;
  border: 2px solid #cdcdcd;
  color: #cdcdcd;
  border-radius: 20px;
  -webkit-transition: border .5s ease, color .5s ease;
  transition: border .5s ease, color .5s ease;
}

#chat-submit:hover,
#chat-submit:focus {
  border: 2px solid #69D2E7;
  color: #69D2E7;
  outline: 0;
}

.dialogue {
  min-width: 10%;
  max-width: 70%;
  border: 1px solid #cdcdcd;
  border-radius: 20px;
  padding: 5px 10px;
  margin-bottom: 10px;
  clear: both;
}

.dialogue-bot {
  background-color: #fcfcfc;
  float: left;
}

.dialogue-user {
  background-color: #69D2E7;
  float: right;
}

footer{
	position: fixed;
  left: 0;
  bottom: 0;
  width: 100%;
  text-align: center;
}
</style>

</head>
<body style="background-color: gainsboro;margin: 0;
padding: 0;
background-attachment: fixed;
background-position: 50% 50%;
background-size: cover;">
<div class="site-wrapper">
	<div class="temp-header sty1">
		<div class="top-bar solid-dark">
		<div class="container">
			<div class="row">
			<div class="col-md-6"><i class="fa fa-envelope-o"></i> i222562@nu.edu.pk <span>|</span> <i class="fa fa-user"></i> Team Tech</div>
			<div class="col-md-6 right-padd0 text-right social-media nodisplay"> <a href="#"><i class="fa fa-facebook"></i></a> <a href="#"><i class="fa fa-twitter"></i></a> <a href="#"><i class="fa fa-google-plus"></i></a> <a href="#"><i class="fa fa-linkedin"></i></a> <a href="#"><i class="fa fa-flickr"></i></a> </div>
			</div>
			<!--end of row-->
		</div>
		</div>
		<div class="header-section white pin-style">
		<div class="container">
			<div class="mod-menu">
			<div class="row">
				<div class="col-sm-2"><img src="images/logo.png" width="80" height="80"/></div>
				<div class="col-sm-10">
				<div class="main-nav">
					<div id="menu" class="collapse">
						<ul class="nav navbar-nav">
              				<li class=""> <a href="home.html">Home</a></li>
							<li class=""> <a href="/register-property">Register Property</a></li>
							<li class=""> <a href="/login">Login</a></li>


							<li><a href="#">Hostels</a><span class="arrow"></span>
								<ul class="dm-align-2">
									<li><a href="booking.html">Booking</a></li>
									<li><a href="checkin-checkout.html">Checkin Checkout</a></li>
									<li><a href="food-menu.html">Food Menu</a></li>
									<li><a href="comparison-of-hostel.html">Compare Hostels</a></li>
									<li><a href="short-listed-hostels.html">Shortlisted Hostels</a></li>
									<li><a href="hostel-images.html">Hostel Images</a></li>
								</ul>
							</li>
							<li class="active"><a href="#">Features</a><span class="arrow"></span>
								<ul class="dm-align-2">
									<li><a href="trips.html">Trips</a></li>
									<li><a href="activities.html">Activities</a></li>
									<li><a href="adventure.html">Adventure</a></li>
									<li><a href="notifications.html">Notifications</a></li>
									<li><a href="online-payment.html">Oline Payment</a></li>
									<li><a href="feature-option.html">Feature Options</a></li>
									<li><a href="special-discount.html">Special Discounts </a></li>
									<li><a href="personalized-recommendations.html">Peronalized Recommendations </a></li>
									<li><a href="whether-updates.html">Weather Updates</a></li>
									<li><a href="user-and-hostel-profile.html.html">Profile <i class="fa fa-angle-right right" aria-hidden="true"></i> </a> <span class="arrow"></span>
										<ul>
											<li><a href="user-and-hostel-profile.html.html">User Profile</a></li>
											<li><a href="user-and-hostel-profile.html.html">Hostel Profile</a></li>
										</ul>
									</li>
									<li><a href="#">Support <i class="fa fa-angle-right right" aria-hidden="true"></i> </a> <span class="arrow"></span>
									<ul>
										<li><a href="hostel-chat.html">Hostel Chat</a></li>
										<li><a href="manager-chat.html">Manager Chat</a></li>
										<li><a href="user-support.html">User Support</a></li>
									</ul>
									</li>
									<li class=""> <a href="signup.html">Signup</a></li>

									<li class=""> <a href="forgot-password.html">Forgot Password</a></li>
								</ul>

							</li>
						</ul>
					</div>
				</div>
				</div>
			</div>
			</div>
		</div>
		<!--end menu-->
		</div>
		<!--end menu-->
	</div>
	<div class="clearfix"></div>

	<div class="section-lg">
		<div class="container">
			<div class="row">
			  <div class="col-md-12">
				<h2 style="text-align:center;">Hostel Chat</h2>
			  </div>
			</div>

	<div class="container">
		<form id='chat-box'>
			<input type='text ' id='chat-user' name='chat-user' placeholder='Talk to me' style="margin-bottom: 350px;;">
			<input type='submit' id='chat-submit' value='↑'>
		  </form>
		<div id='dialogue-container'>
			<div class='dialogue dialogue-bot'>
			  Please try: weather, day, name
			</div>
		  </div>

	</div>
		</div>

		<!-- end features Section 05 -->

		<!-- end features Section 12 -->
		<footer class="footer blue-bg">
		  <div class="footer-content">
			<div class="container">
			  <div class="row">
				<div class="col-md-3 m-bot-2">
				  <!-- Footer widget area 1 -->
				  <h4 class="uppercase f-15 font-bold white m-bot-3">About Us</h4>
				  <ul class="list-icon">
					<li><i class="fa fa-map-marker"></i> This website is developed by Team Tech as a project in university.</li>
					<li><i class="fa fa-envelope"></i> <a href="mailto:i222562@nu.edu.pk" class="white">i222562@nu.edu.pk</a></li>
				  </ul>
				  <!-- Social icons -->
				  <div class="social-icons bor-light">
					<ul>
					  <li><a href="#"><i class="fa fa-rss white"></i></a></li>
					  <li><a href="#"><i class="fa fa-facebook white"></i></a></li>
					  <li><a href="#"><i class="fa fa-twitter white"></i></a></li>
					  <li><a href="#"><i class="fa fa-youtube white"></i></a></li>
					  <li><a href="#"><i class="fa fa-pinterest white"></i></a></li>
					  <li><a href="#"><i class="fa fa-google-plus white"></i></a></li>
					</ul>
				  </div>
				  <!-- end: Social icons -->
				  <!-- end: Footer widget area 1 -->
				</div>
				<div class="col-md-3 m-bot-2 col-md-offset-1">
				  <!-- Footer widget area 4 -->
				  <h4 class="uppercase f-15 font-bold white m-bot-3">Developer Contact</h4>
				  <div class="row clearfix">
					<div class="col-xs-12 col-sm-12 col-md-12">

						<p class="white">You can access us on Facebook,
							Instagram and E-mail. </p>
					</div>

				  </div>
				  <!-- end: Footer widget area 4 -->
				</div>
				<div class="col-md-5 m-bot-2">
				  <!-- Footer widget area 2 -->
				  <div class="show-post sty-one"><img src="images/logo.png" alt="Image" class="pull-right">
				</div>
			  </div>
			</div>
		  </div>
		</footer>
		<!-- end footer -->
		<!-- end site wrapper-->
	  </div>
	  <a href="#" class="scrollup"></a>
	  <!-- end scroll to top of the page-->


<!-- jQuery first, then Tether, then Bootstrap JS. -->
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>

<!-- form -->
<script type="text/javascript" src="js/form/jquery.form.min.js"></script>
<script type="text/javascript" src="js/form/jquery.validate.min.js"></script>
<script type="text/javascript" src="js/form/jquery.modal.js"></script>
<script type="text/javascript">
	var form = document.getElementById('chat-box');
	var submit = document.getElementById('chat-submit');
	var input = document.getElementById('chat-user');
	var container = document.getElementById('dialogue-container');
	var keywords = [];
	var reply;
	var weather_trigger = 1;

	form.addEventListener("submit", function(event) {
	  weather_trigger++;
	  event.preventDefault();
	  create_bubble_user();
	});

	function create_bubble_user() {
	  if (input.value != '') {
		keywords = input.value.toLowerCase()
		  .replace(/[^\w\s]|_/g, '')
		  .replace(/\s+/g, ' ').split(' ');
		var div = document.createElement('DIV');
		var para = document.createElement('SPAN');
		var txt = document.createTextNode(input.value);
		div.setAttribute('class', 'dialogue dialogue-user');
		para.appendChild(txt);
		div.appendChild(para);
		container.appendChild(div);
		input.value = '';
		count_childs();
		if (weather_trigger == 0) get_weather();
		else {
			check_keywords();
			setTimeout(function() {
			  create_bubble_bot(reply);
			}, 500);
		}
	  }
	}

	function got_weather() {
		count_childs();
	  create_bubble_bot(reply);
	}

	function check_keywords() {
	  for (var i = keywords.length - 1; i >= 0; i--) {
		switch (keywords[i]) {
		  case 'name':
			reply = 'They all call me Sadie.';
			i = -1;
			break;
		  case 'day':
			re_day();
			i = -1;
			break;
		  case 'weather':
			reply = 'Sure, please enter a city.'
			weather_trigger = -1;
			i = -1;
			break;
		  default:
			reply = "Sorry, I don't get it."
		}
	  }
	  keywords = [];
	}

	function create_bubble_bot(str) {
	  var div = document.createElement('DIV');
	  var para = document.createElement('SPAN');
	  var txt = document.createTextNode(str);
	  div.setAttribute('class', 'dialogue dialogue-bot');
	  para.appendChild(txt);
	  div.appendChild(para);
	  container.appendChild(div);
	  count_childs();
	}

	function get_weather() {
		var url_p1 = 'http://api.openweathermap.org/data/2.5/weather?q=';
	  var url_p2 = keywords[0];
	  var url_p3 = '&units=metric&APPID=49c0770f08d640ba6efb45847ca2ef9d';
	  var url = url_p1 + url_p2 + url_p3;

	  var ourRequest = new XMLHttpRequest();
	  ourRequest.open('GET', url);
	  ourRequest.onload = function() {
		if (ourRequest.status >= 200 && ourRequest.status < 400) {
		  var data = JSON.parse(ourRequest.responseText);
		  reply = data.name + ': ' + data.weather[0].main + ', ' + data.main.temp + '°C';
		  got_weather();
		} else {
		  console.log("Oops, something's wrong!");
		}
	  };
	  ourRequest.onerror = function() {
		console.log('Connection error');
	  };

	  ourRequest.send();
	}

	function re_day() {
	  switch (new Date().getDay()) {
		case 0:
		  reply = 'Sunday';
		  break;
		case 1:
		  reply = 'Monday';
		  break;
		case 2:
		  reply = 'Tuesday';
		  break;
		case 3:
		  reply = 'Wednesday';
		  break;
		default:
		  reply = 'Anyday';
	  }
	}

	function count_childs() {
	  var children = container.children;
	  if (children.length > 6) {
		while (children.length > 6) {
		  container.removeChild(container.firstChild);
		}
	  }
	  if (children.length > 3) {
		var transparency = 1;
		for (var i = children.length - 3; i >= 0; i--) {
		  transparency -= 0.15;
		  children[i].style.opacity = transparency;
		}
	  }
	}


	</script>
</body>
</html>
